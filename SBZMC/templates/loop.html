{# Copyright (c) 2016 Yoshihiro Furudate
   Released under the MIT license
   http://opensource.org/licenses/mit-license.php #}
{# filetree nest range of 1~10 #}

{% for l1 in filelist %}
 {% if filelist[l1] is string %}
  {% if l1 == filepath %}
   <li><a href="{{ homepath }}{{ l1 }}"><span class="thisfile">{{ l1 }}</span></a></li>
  {% else %}
   <li><a href="{{ homepath }}{{ l1 }}"><span>{{ l1 }}</span></a></li>
  {% endif %}
 {% else %}
  <li><a class="folder"><span>{{ l1 }}</span></a><ul class="box">
  {% for l2 in filelist[l1] %}
   {% if filelist[l1][l2] is string %}
    {% if l1 + "/" + l2 == filepath %}
     <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}"><span class="thisfile">{{ l2 }}</span></a></li>
    {% else %}
     <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}"><span>{{ l2 }}</span></a></li>
    {% endif %}
   {% else %}
    <li><a class="folder"><span>{{ l2 }}</span></a><ul class="box">
    {% for l3 in filelist[l1][l2] %}
     {% if filelist[l1][l2][l3] is string %}
      {% if l1 + "/" + l2 + "/" + l3 == filepath %}
       <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}"><span class="thisfile">{{ l3 }}</span></a></li>
      {% else %}
       <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}"><span>{{ l3 }}</span></a></li>
      {% endif %}
     {% else %}
      <li><a class="folder"><span>{{ l3 }}</span></a><ul class="box">
      {% for l4 in filelist[l1][l2][l3] %}
       {% if filelist[l1][l2][l3][l4] is string %}
        {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 == filepath %}
         <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}"><span class="thisfile">{{ l4 }}</span></a></li>
        {% else %}
         <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}">{{ l4 }}</a></li>
        {% endif %}
       {% else %}
        <li><a class="folder"><span>{{ l4 }}</span></a><ul class="box">
        {% for l5 in filelist[l1][l2][l3][l4] %}
         {% if filelist[l1][l2][l3][l4][l5] is string %}
          {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 + "/" + l5 == filepath %}
           <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}"><span class="thisfile">{{ l5 }}</span></a></li>
          {% else %}
           <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}">{{ l5 }}</a></li>
          {% endif %}
         {% else %}
          <li><a class="folder"><span>{{ l5 }}</span></a><ul class="box">
          {% for l6 in filelist[l1][l2][l3][l4][l5] %}
           {% if filelist[l1][l2][l3][l4][l5][l6] is string %}
            {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 + "/" + l5 + "/" + l6 == filepath %}
             <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}"><span class="thisfile">{{ l6 }}</span></a></li>
            {% else %}
             <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}">{{ l6 }}</a></li>
            {% endif %}
           {% else %}
            <li><a class="folder"><span>{{ l6 }}</span></a><ul class="box">
            {% for l7 in filelist[l1][l2][l3][l4][l5][l6] %}
             {% if filelist[l1][l2][l3][l4][l5][l6][l7] is string %}
              {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 + "/" + l5 + "/" + l6 + "/" + l7 == filepath %}
               <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}"><span class="thisfile">{{ l7 }}</span></a></li>
              {% else %}
               <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}">{{ l7 }}</a></li>
              {% endif %}
             {% else %}
              <li><a class="folder"><span>{{ l7 }}</span></a><ul class="box">
              {% for l8 in filelist[l1][l2][l3][l4][l5][l6][l7] %}
               {% if filelist[l1][l2][l3][l4][l5][l6][l7][l8] is string %}
                {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 + "/" + l5 + "/" + l6 + "/" + l7 + "/" + l8 == filepath %}
                 <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}"><span class="thisfile">{{ l8 }}</span></a></li>
                {% else %}
                 <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}">{{ l8 }}</a></li>
                {% endif %}
               {% else %}
                <li><a class="folder"><span>{{ l8 }}</span></a><ul class="box">
                {% for l9 in filelist[l1][l2][l3][l4][l5][l6][l7][l8] %}
                 {% if filelist[l1][l2][l3][l4][l5][l6][l7][l8][l9] is string %}
                  {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 + "/" + l5 + "/" + l6 + "/" + l7 + "/" + l8 + "/" + l9 == filepath %}
                   <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}/{{ l9 }}"><span class="thisfile">{{ l9 }}</span></a></li>
                  {% else %}
                   <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}/{{ l9 }}">{{ l9 }}</a></li>
                  {% endif %}
                 {% else %}
                  <li><a class="folder"><span>{{ l9 }}</span></a><ul class="box">
                  {% for l10 in filelist[l1][l2][l3][l4][l5][l6][l7][l8][l9] %}
                   {% if filelist[l1][l2][l3][l4][l5][l6][l7][l8][l9][l10] is string %}
                    {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 + "/" + l5 + "/" + l6 + "/" + l7 + "/" + l8 + "/" + l9 + "/" + l10 == filepath %}
                     <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}/{{ l9 }}/{{ l10 }}"><span class="thisfile">{{ l10 }}</span></a></li>
                    {% else %}
                     <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}/{{ l9 }}/{{ l10 }}">{{ l10 }}</a></li>
                    {% endif %}
                   {% else %}
                    <li><a class="folder"><span>{{ l10 }}</span></a><ul class="box">
                    {% for l11 in filelist[l1][l2][l3][l4][l5][l6][l7][l8][l9][l10] %}
                     {% if filelist[l1][l2][l3][l4][l5][l6][l7][l8][l9][l10][l11] is string %}
                      {% if l1 + "/" + l2 + "/" + l3 + "/" + l4 + "/" + l5 + "/" + l6 + "/" + l7 + "/" + l8 + "/" + l9 + "/" + l10 + "/" + l11 == filepath %}
                       <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}/{{ l9 }}/{{ l10 }}/{{ l11 }}"><span class="thisfile">{{ l11 }}</span></a></li>
                      {% else %}
                       <li><a href="{{ homepath }}{{ l1 }}/{{ l2 }}/{{ l3 }}/{{ l4 }}/{{ l5 }}/{{ l6 }}/{{ l7 }}/{{ l8 }}/{{ l9 }}/{{ l10 }}/{{ l11 }}">{{ l11 }}</a></li>
                      {% endif %}
                     {% endif %}
                    {% endfor %}
                    </ul></li>
                   {% endif %}
                  {% endfor %}
                  </ul></li>
                 {% endif %}
                {% endfor %}
                </ul></li>
               {% endif %}
              {% endfor %}
              </ul></li>
             {% endif %}
            {% endfor %}
            </ul></li>
           {% endif %}
          {% endfor %}
          </li></ul>
         {% endif %}
        {% endfor %}
        </li></ul>
       {% endif %}
      {% endfor %}
      </ul></li>
     {% endif %}
    {% endfor %}
    </ul><li>
   {% endif %}
  {% endfor %}
  </ul></li>
 {% endif %}
{% endfor %}
